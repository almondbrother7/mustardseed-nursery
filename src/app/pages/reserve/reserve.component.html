<div class="reserve-header">
  <h1>Reserve some plants</h1>
  <p>
    Use this form to select quantity of plants and it will send us an email, reserving your plants, using the contact form.
  </p>
</div>

<div class="reserve-page-container">
  <!-- Plant List -->
  <div class="plant-catalog">
    <div class="plant-card" *ngFor="let plant of plants">     
      <img [src]="'/' + plant.thumbnail" [alt]="plant.name" />

      <h3>
        <a *ngIf="plant.infoUrl" [href]="plant.infoUrl" target="_blank">
          {{ plant.name }}
        </a>
      </h3>

      <p>{{ plant.description }}</p>

      <!-- Grouped price and available -->
      <p class="price-available">
        <strong>Price:</strong> ${{ plant.price }} &nbsp;|&nbsp;
        <strong>Available:</strong> {{ plant.inventory }}
      </p>

      <!-- Quantity selector -->
      <div class="quantity-input">
        <label>
          Quantity:
          <input
            type="number"
            min="0"
            [max]="plant.inventory"
            [disabled]="plant.inventory === 0"
            [(ngModel)]="orderQuantities[plant.plantID]"
            name="qty-{{ plant.plantID }}"
          />
        </label>
      </div>
    </div>
  </div>

  <!-- Reservation summary sidebar -->
  <aside class="reservation-summary" *ngIf="selectedItems.length > 0">
    <h3>Your Order</h3>
    <ul>
      <li *ngFor="let item of selectedItems">
        {{ item.quantity }} Ã— {{ item.name }} = ${{ item.quantity * item.price }}
      </li>
    </ul>
    <hr />
    <p><strong>Total:</strong> ${{ orderTotal }}</p>
    <button
      mat-stroked-button
      color="primary"
      class="request-button"
      (click)="submitOrder()">
      Continue
    </button>
  </aside>
</div>